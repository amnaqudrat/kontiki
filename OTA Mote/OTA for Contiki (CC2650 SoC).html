<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="http://marksolters.com/assets/images/favicon.png">

    <title>OTA for Contiki (CC2650 SoC)</title>
    <meta name="description" content="">

    <link rel="canonical" href="http://msolters.github.io/programming/2016/06/07/contiki-ota.html">
    <link rel="alternate" type="application/rss+xml" title="(╯°□°）╯︵ ┻━┻" href="http://msolters.github.io/feed.xml">

    <script src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/analytics.js" async=""></script><script type="text/javascript" src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/jquery.js"></script>

    <!-- Third-Party CSS -->
    <link href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/icon" rel="stylesheet">
    <link href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/bootstrap.css">
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/octicons.css">
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/hover-min.css">
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/user-content.css">
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/monokai.css">

    <!-- My CSS -->
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/common.css">

    <!-- CSS set in page -->
    
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/open-source.css">
    

    <!-- CSS set in layout -->
    
    <link rel="stylesheet" href="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/sidebar-post-nav.css">
    

    <script type="text/javascript" src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/bootstrap.js"></script>
    <script type="text/javascript" src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/underscore-min.js"></script>
<script data-timestamp="1471679473085" src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/embed.js"></script></head>


    <body data-spy="scroll" data-target="#post-directory-spy" data-offset="200">

    <header class="site-header site-header-nav-scrolled">
    <div class="container">
        <a id="site-header-brand" href="http://marksolters.com/" title="Mark Solters" class="in-article">
            <span class="octicon octicon-mark-github"></span>
            <span id="title-text" class="site-header-name"><a href="#memory-map-architecture">Memory Map Architecture</a></span>
        </a>
        <nav class="site-header-nav" role="navigation">
            
            <a href="http://marksolters.com/" class="  site-header-nav-item hvr-underline-from-center" target="" title="Home">
                Home
            </a>
            
            <a href="http://marksolters.com/open-source" class=" hidden-sm hidden-xs site-header-nav-item hvr-underline-from-center" target="" title="Open Source">
                Open Source
            </a>
            
            <a href="http://marksolters.com/about" class=" hidden-sm hidden-xs site-header-nav-item hvr-underline-from-center" target="" title="About">
                About
            </a>
            
        </nav>
    </div>
</header>


        <div class="content">
            <section style="background-image: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjUiIGhlaWdodD0iMTkxIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJyZ2IoMTIzLDczLDEzNCkiPjwvcmVjdD48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTguNCwtMTUuOTM0ODY3NDI5NjMzNjcpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNDYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0Ny4yLC0xNS45MzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4LjQsMTc1LjI4MzU0MTcyNTk3MDM3KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDcuMiwxNzUuMjgzNTQxNzI1OTcwMzcpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4yLDApIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4yLDE5MS4yMTg0MDkxNTU2MDQwNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEwNjY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNi44LC0xNS45MzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEwNjY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNi44LDE3NS4yODM1NDE3MjU5NzAzNykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjAzNzMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NC40LDApIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQuNCwxOTEuMjE4NDA5MTU1NjA0MDQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTIsLTE1LjkzNDg2NzQyOTYzMzY3KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDM3MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkyLDE3NS4yODM1NDE3MjU5NzAzNykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjExNTMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTkuNiwwKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOS42LDE5MS4yMTg0MDkxNTU2MDQwNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA1NDY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTguNCwxNS45MzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA1NDY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDcuMiwxNS45MzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA1NDY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5LjIsMzEuODY5NzM0ODU5MjY3MzQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NC40LDMxLjg2OTczNDg1OTI2NzM0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkyLDE1LjkzNDg2NzQyOTYzMzY3KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDM3MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOS42LDMxLjg2OTczNDg1OTI2NzM0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOC40LDQ3LjgwNDYwMjI4ODkwMTAxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0Ny4yLDQ3LjgwNDYwMjI4ODkwMTAxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDU0NjY2NjY2NjY2NjY2NjciIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMiw2My43Mzk0Njk3MTg1MzQ2OCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYuOCw0Ny44MDQ2MDIyODg5MDEwMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjAzNzMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NC40LDYzLjczOTQ2OTcxODUzNDY4KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5Miw0Ny44MDQ2MDIyODg5MDEwMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTkuNiw2My43Mzk0Njk3MTg1MzQ2OCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTguNCw3OS42NzQzMzcxNDgxNjgzNSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDcuMiw3OS42NzQzMzcxNDgxNjgzNSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEwNjY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5LjIsOTUuNjA5MjA0NTc3ODAyMDIpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYuOCw3OS42NzQzMzcxNDgxNjgzNSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjAyODY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQuNCw5NS42MDkyMDQ1Nzc4MDIwMikiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5Miw3OS42NzQzMzcxNDgxNjgzNSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTkuNiw5NS42MDkyMDQ1Nzc4MDIwMikiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTguNCwxMTEuNTQ0MDcyMDA3NDM1NjkpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ3LjIsMTExLjU0NDA3MjAwNzQzNTY5KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDg5MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMiwxMjcuNDc4OTM5NDM3MDY5MzYpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYuOCwxMTEuNTQ0MDcyMDA3NDM1NjkpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4xNSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQuNCwxMjcuNDc4OTM5NDM3MDY5MzYpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTIsMTExLjU0NDA3MjAwNzQzNTY5KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOS42LDEyNy40Nzg5Mzk0MzcwNjkzNikiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTguNCwxNDMuNDEzODA2ODY2NzAzMDMpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMTUuOTM0ODY3NDI5NjMzNjcsOS4yLDAsMjcuNTk5OTk5OTk5OTk5OTk4LDAsMzYuOCwxNS45MzQ4Njc0Mjk2MzM2NywyNy41OTk5OTk5OTk5OTk5OTgsMzEuODY5NzM0ODU5MjY3MzQsOS4yLDMxLjg2OTczNDg1OTI2NzM0LDAsMTUuOTM0ODY3NDI5NjMzNjciIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ3LjIsMTQzLjQxMzgwNjg2NjcwMzAzKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDg5MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMiwxNTkuMzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA3MjAwMDAwMDAwMDAwMDAxIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNi44LDE0My40MTM4MDY4NjY3MDMwMykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NC40LDE1OS4zNDg2NzQyOTYzMzY3KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDE1LjkzNDg2NzQyOTYzMzY3LDkuMiwwLDI3LjU5OTk5OTk5OTk5OTk5OCwwLDM2LjgsMTUuOTM0ODY3NDI5NjMzNjcsMjcuNTk5OTk5OTk5OTk5OTk4LDMxLjg2OTczNDg1OTI2NzM0LDkuMiwzMS44Njk3MzQ4NTkyNjczNCwwLDE1LjkzNDg2NzQyOTYzMzY3IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkyLDE0My40MTM4MDY4NjY3MDMwMykiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwxNS45MzQ4Njc0Mjk2MzM2Nyw5LjIsMCwyNy41OTk5OTk5OTk5OTk5OTgsMCwzNi44LDE1LjkzNDg2NzQyOTYzMzY3LDI3LjU5OTk5OTk5OTk5OTk5OCwzMS44Njk3MzQ4NTkyNjczNCw5LjIsMzEuODY5NzM0ODU5MjY3MzQsMCwxNS45MzQ4Njc0Mjk2MzM2NyIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTkuNiwxNTkuMzQ4Njc0Mjk2MzM2NykiPjwvcG9seWxpbmU+PC9zdmc+&quot;);" class="jumbotron geopattern" data-pattern-id="OTA for Contiki (CC2650 SoC)">
    <div class="container">
        <div id="jumbotron-meta-info">
            <h1>OTA for Contiki (CC2650 SoC)</h1>
            <span class="meta-info">
                
                
                <span class="octicon octicon-calendar"></span> 06.07.2016
                
            </span>
        </div>
    </div>
</section>
<script>
    $(document).ready(function(){

        $('.geopattern').each(function(){
            $(this).geopattern($(this).data('pattern-id'));
        });

    });
</script>

<article class="post container" itemscope="" itemtype="http://schema.org/BlogPosting">

    <div class="row">
      
        <div class="col-md-9 markdown-body">
          <style>
.mmap-container {
  text-align: center;
  margin-top: 20px;
  margin-bottom: 20px;
}
.mmap {
  border-left: 1px solid #000;
  border-right: 1px solid #000;
  border-top: 1px solid #000;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  width: 100%;
}
.mmap > div {
  border-bottom: 1px solid #000;
}

</style>

<h2 id="implementing-ota-in-contiki">Implementing OTA in Contiki</h2>
<div class="alert alert-success text-center">
  Now with <b>CoAP</b>!
</div>

<p>OTA is one of the holy grails in IoT embedded programming.  Releasing
 hardware out into the wild without the ability to easily address future
 bugs or modify behaviour without a physical recall is never a good 
idea, especially at scale.</p>

<p>However, updating the executable code inside a microcontroller is 
something that is intimately related to the hardware – the flash 
peripheral that stores the code, the size of that flash storage, the 
processor instruction set, location of the interrupt table and/or 
bootloader code, etc.</p>

<p>ContikiOS itself is a highly portable system.  It compiles across a 
wide variety of microcontrollers and SoCs.  Therefore, one of the 
difficulties with developing an OTA system for Contiki is that it must 
be almost completely rewritten for each SoC that you want it to support.</p>

<p>With that in mind, the OTA system I have developed here is targeting only the <a href="http://www.ti.com/product/CC2650">CC26xx SoC</a> family from Texas Instruments.  I based the general architecture off the OAD feature used in TI’s own <a href="http://www.ti.com/tool/ble-stack">BLE-Stack 2.1.1</a>.</p>

<p>First, some of the bigger differences when moving from BLE-Stack to ContikiOS:</p>

<ul>
  <li>With BLE-Stack, it’s possible to compile the actual stack code 
(HAL, drivers, etc.) separately from the user application code.  This 
allows your updates to be significantly smaller in terms of bytes, 
because you only replace the user application code and not the whole 
stack.  By contrast, Contiki always compiles one giant firmware binary 
that contains everything.  Separating the “stack” from the “application”
 would require a lot of linker script tinkering to specify which 
features ought to be linked where in memory, on a file-by-file basis – 
of which there are hundreds!  In addition, Contiki is modified much 
faster by the open source community than TI’s BLE-Stack.  In Contiki, 
changes inside the “stack” code are far more likely within the lifetime 
of your product, and we want to be able to send updates that can change 
the entire firmware binary if need be!</li>
  <li>Contiki is significantly more network-protocol agnostic.  There 
are so many ways for new firmware data to be transported within the 
Contiki API!  You can use raw UDP sockets, TCP, HTTP, CoAP, etc…  In 
this system, I originally used HTTP.  However, I discovered that, when 
using CoAP and HTTP simultaneously in Contiki, I would encounter network
 failure.  So, I migrated my original OTA system to use CoAP instead.  
It has been a worthwhile change – it is certainly faster and simpler 
this way, as CoAP’s binary structure lends itself well to firmware data.</li>
</ul>

<h2 id="quick-start">Quick Start</h2>
<p>We will build the OTA example, and send new firmware over-the-air from our OTA server to our Sensortag.</p>

<h3 id="acquire-source-code">Acquire Source Code</h3>
<p>We need two pieces of software:  the up-to-date Contiki fork which 
contains CoAP OTA code for cc26xx systems, as well as an OTA server.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c"># Get the OTA Image Server</span>
git clone https://github.com/msolters/ota-server

<span class="nb">cd</span> ..

<span class="c"># Get Contiki fork w/ cc26xx OTA support</span>
git clone https://github.com/msolters/contiki
<span class="nb">cd </span>contiki
git submodule update --init --recursive
</code></pre>
</div>

<div class="repo-list row">
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="https://github.com/msolters/contiki" target="_blank">
        <div class="col-md-6 card text-center">
          <div class="thumbnail">
              <div style="background-image: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJyZ2IoMTUzLDEzOSw1NCkiPjwvcmVjdD48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4wMiIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwxNSkgc2NhbGUoMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDIiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLDE1KSBzY2FsZSgtMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDIiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMTUpIHNjYWxlKDEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDIiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLDE1KSBzY2FsZSgtMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xNSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUsMCkgc2NhbGUoLTEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTUiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ1LDMwKSBzY2FsZSgxLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUsMzApIHNjYWxlKC0xLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUsMCkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAsMTUpIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MCwxNSkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MCwxNSkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTAsMTUpIHNjYWxlKC0xLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUsMCkgc2NhbGUoLTEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDYzMzMzMzMzMzMzMzMzMzQiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNSwzMCkgc2NhbGUoMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNSwzMCkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUsMCkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUsMzApIHNjYWxlKC0xLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNSw2MCkgc2NhbGUoMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNSw2MCkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjA5OCIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUsMzApIHNjYWxlKDEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMCw0NSkgc2NhbGUoMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MCw0NSkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjA5OCIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAsNDUpIHNjYWxlKDEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MCw0NSkgc2NhbGUoLTEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTA2NjY2NjY2NjY2NjY2NjciIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc1LDMwKSBzY2FsZSgtMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMDY2NjY2NjY2NjY2NjY2NyIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUsNjApIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUsNjApIHNjYWxlKC0xLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4wNDYiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc1LDMwKSBzY2FsZSgxLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTAsNDUpIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIwLDQ1KSBzY2FsZSgtMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MCw0NSkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4wNDYiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMCw0NSkgc2NhbGUoLTEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsNzUpIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMCw3NSkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDc1KSBzY2FsZSgxLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMCw3NSkgc2NhbGUoLTEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTUiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ1LDYwKSBzY2FsZSgtMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xNSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUsOTApIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NSw5MCkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NSw2MCkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAsNzUpIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MCw3NSkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MCw3NSkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTAsNzUpIHNjYWxlKC0xLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUsNjApIHNjYWxlKC0xLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUsOTApIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUsOTApIHNjYWxlKC0xLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA1LDYwKSBzY2FsZSgxLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNSw5MCkgc2NhbGUoLTEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1LDEyMCkgc2NhbGUoMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTMyNjY2NjY2NjY2NjY2NjUiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1LDEyMCkgc2NhbGUoLTEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNSw5MCkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAsMTA1KSBzY2FsZSgxLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAsMTA1KSBzY2FsZSgtMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTMyNjY2NjY2NjY2NjY2NjUiIGZpbGw9IiMyMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLDEwNSkgc2NhbGUoMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAsMTA1KSBzY2FsZSgtMSwxKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgZmlsbD0iIzIyMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUsOTApIHNjYWxlKC0xLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBmaWxsPSIjMjIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NSwxMjApIHNjYWxlKDEsLTEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NSwxMjApIHNjYWxlKC0xLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUsOTApIHNjYWxlKDEsMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkwLDEwNSkgc2NhbGUoMSwtMSkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMCwwLDE1LDE1LDAsMTUsMCwwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiBmaWxsLW9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIGZpbGw9IiNkZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMCwxMDUpIHNjYWxlKC0xLC0xKSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIwLDAsMTUsMTUsMCwxNSwwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgZmlsbD0iI2RkZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTAsMTA1KSBzY2FsZSgxLDEpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjAsMCwxNSwxNSwwLDE1LDAsMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgZmlsbC1vcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBmaWxsPSIjZGRkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAsMTA1KSBzY2FsZSgtMSwxKSI+PC9wb2x5bGluZT48L3N2Zz4=&quot;);" class="card-image geopattern" data-pattern-id="contiki">
                  <div class="card-image-cell">
                      <h3 class="card-title">
                          contiki
                      </h3>
                  </div>
              </div>
              <div class="caption">
                  <div class="card-description">
                      <p class="card-text">Contiki fork with CC26xx OTA support</p>
                  </div>
                  <div class="card-text">
                      <span data-toggle="tooltip" class="meta-info" title="1 stars">
                          <span class="octicon octicon-star"></span> 1
                      </span>
                      <span data-toggle="tooltip" class="meta-info" title="1 forks">
                          <span class="octicon octicon-git-branch"></span> 1
                      </span>
                      <span data-toggle="tooltip" class="meta-info" title="Last updated：2016-06-07 00:24:12 UTC">
                          <span class="octicon octicon-clock"></span>
                          <time datetime="2016-06-07 00:24:12 UTC" title="2016-06-07 00:24:12 UTC">2016-06-07</time>
                      </span>
                  </div>
              </div>
          </div>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="https://github.com/msolters/ota-server" target="_blank">
        <div class="col-md-6 card text-center">
          <div class="thumbnail">
              <div style="background-image: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjAiIGhlaWdodD0iNzU2Ij48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJyZ2IoNDYsMTYxLDEwMSkiPjwvcmVjdD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsLTEzNSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNjIxKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwtMTE0KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw2NDIpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTA2NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LC05MykiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMDY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNjYzKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjExNTMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwtNzIpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDY4NCkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wODA2NjY2NjY2NjY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsLTUxKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA4MDY2NjY2NjY2NjY2NjY2IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw3MDUpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LC0zMCkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNzI2KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjAzNzMzMzMzMzMzMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwtOSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNzQ3KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMikiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNzY4KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjExNTMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwzMykiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4xMTUzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNzg5KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA3MjAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw1NCkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsODEwKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw3NSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsODMxKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw5NikiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsODUyKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA4MDY2NjY2NjY2NjY2NjY2IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMTcpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDgwNjY2NjY2NjY2NjY2NjYiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDg3MykiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsMTM4KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA3MjAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw4OTQpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDk4IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxNTkpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDk4IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw5MTUpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDE4MCkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsOTM2KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwyMDEpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDg5MzMzMzMzMzMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDk1NykiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsMjIyKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw5NzgpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDg5MzMzMzMzMzMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDI0MykiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsOTk5KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA3MjAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwyNjQpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDEwMjApIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDU0NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDI4NSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNTQ2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsMTA0MSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wNDYiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDMwNikiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wNDYiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDEwNjIpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDQ2IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwzMjcpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDQ2IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMDgzKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjAzNzMzMzMzMzMzMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwzNDgpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDM3MzMzMzMzMzMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDExMDQpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDQ2IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwzNjkpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDQ2IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMTI1KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjE1IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwzOTApIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTUiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDExNDYpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDk4IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw0MTEpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDk4IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMTY3KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw0MzIpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDYzMzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDExODgpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTMyNjY2NjY2NjY2NjY2NjUiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDQ1MykiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4xMzI2NjY2NjY2NjY2NjY2NSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsMTIwOSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wMiIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNDc0KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjAyIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMjMwKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw0OTUpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDEyNTEpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDUxNikiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsMTI3MikiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsNTM3KSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjEyNDAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSwxMjkzKSI+PC9wYXRoPjxwYXRoIGQ9Ik0wIDkwIEMgMzguNSAwLCA3MS41IDAsIDExMCA5MCBTIDE4MS41IDE4MCwgMjIwIDkwIFMgMjkxLjUgMCwgMzMwLCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjExNTMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjIxcHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NSw1NTgpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDEzMTQpIj48L3BhdGg+PHBhdGggZD0iTTAgOTAgQyAzOC41IDAsIDcxLjUgMCwgMTEwIDkwIFMgMTgxLjUgMTgwLCAyMjAgOTAgUyAyOTEuNSAwLCAzMzAsIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDYzMzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDU3OSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIyMXB4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUsMTMzNSkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wNDYiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDYwMCkiPjwvcGF0aD48cGF0aCBkPSJNMCA5MCBDIDM4LjUgMCwgNzEuNSAwLCAxMTAgOTAgUyAxODEuNSAxODAsIDIyMCA5MCBTIDI5MS41IDAsIDMzMCwgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wNDYiIHN0cm9rZS13aWR0aD0iMjFweCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LDEzNTYpIj48L3BhdGg+PC9zdmc+&quot;);" class="card-image geopattern" data-pattern-id="ota-server">
                  <div class="card-image-cell">
                      <h3 class="card-title">
                          ota-server
                      </h3>
                  </div>
              </div>
              <div class="caption">
                  <div class="card-description">
                      <p class="card-text">An OTA firmware image server for Contiki applications</p>
                  </div>
                  <div class="card-text">
                      <span data-toggle="tooltip" class="meta-info" title="2 stars">
                          <span class="octicon octicon-star"></span> 2
                      </span>
                      <span data-toggle="tooltip" class="meta-info" title="1 forks">
                          <span class="octicon octicon-git-branch"></span> 1
                      </span>
                      <span data-toggle="tooltip" class="meta-info" title="Last updated：2016-07-09 13:32:37 UTC">
                          <span class="octicon octicon-clock"></span>
                          <time datetime="2016-07-09 13:32:37 UTC" title="2016-07-09 13:32:37 UTC">2016-07-09</time>
                      </span>
                  </div>
              </div>
          </div>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</div>

<h3 id="build-the-contiki-example">Build the Contiki Example</h3>
<p>An entire working OTA application is provided inside my Contiki fork, located at</p>

<div class="highlighter-rouge"><pre class="highlight"><code>contiki/examples/cc26xx-ota-bootloader
</code></pre>
</div>

<p>To build, just run <code class="highlighter-rouge">make master-hex</code>.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>examples/cc26xx-ota-bootloader
make master-hex
</code></pre>
</div>

<p>The <code class="highlighter-rouge">master-hex</code> target produces a flashable .hex file called <code class="highlighter-rouge">/cc26xx-ota-bootloader/firmware.hex</code>.  <code class="highlighter-rouge">firmware.hex</code> is called a “master hex” because it contains in truth two binaries:</p>

<ul>
  <li>OTA Bootloader</li>
  <li>OTA Image</li>
</ul>

<div class="alert alert-info">
  <b>OTA Bootloader</b> backups and restores OTA Images once they've been downloaded.
</div>
<div class="alert alert-info">
  An <b>OTA Image</b> is just reguar Contiki firmware, compiled with the `OTA=1` flag, and most importantly <i>bundled with metadata</i>.
</div>
<div class="alert alert-info">
  <b>Metadata</b> is a data structure used to tag firmware with version 
numbers and unique identifiers (among other things).  Combined, metadata
 and a Contiki firmware binary constitutes an <i>"OTA Image"</i>.
</div>

<p>In this example, the OTA Image is designed to simply blink the red 
LED of the Sensortag.  It also triggers an OTA download attempt on boot.
  This will continue until an OTA server at the provided IP is found.</p>

<p>When the OTA update is complete, the device will reboot with new OTA image, which is designed to blink the other LED.</p>

<p>You can use SmartRF Programmer 2 to flash, with the one .hex, a 
complete ready-to-OTA system.  The rest of this article will discuss the
 components in more detail.</p>

<p>You can watch the activity of the OTA Image’s download process by connecting to the CC2650 using <code class="highlighter-rouge">115200</code> baud rate over UART.</p>

<div class="alert alert-danger">
  <b>Note</b>:  The OTA system requires access to the external flash chip.  <b>You cannot simultaneously have the devpack connected to your Sensortag and have your code use the Sensortag's external flash</b>.
  It's a design flaw of the Sensortag/devpack -- probably a SPI 
collision.  Therefore, if you are using a Sensortag for this, make sure 
you disconnect the Sensortag from the devpack after you flash it, and 
run it with its own power.  Alternatively, use the srf06 board and add 
your own external flash chip.  This has the advantage of allowing UART 
access even while downloading/reading/writing OTA images.  See below for
 more details about using the srf06 board.
</div>

<h3 id="start-an-ota-image-server">Start an OTA Image Server</h3>
<p>The <code class="highlighter-rouge">ota-server.js</code> provided in 
the ota-server repo only accepts one argument, which is the path to the 
OTA image that you want to send over the update system.</p>

<p>There are two ready-to-use OTA images included with the repo, one for
 a Sensortag and one for an srf06 board.  Both are simply a variant of 
the firmware found in the <code class="highlighter-rouge">cc26xx-ota-bootloader</code>
 example.  They both have metadata declaring them version number v1.  
They can be distinguished from the initial firmware because they will 
blink a different color LED!</p>

<p>To start the OTA server, just execute <code class="highlighter-rouge">ota-server.js</code> using the NodeJS binary and pass in the OTA Image to be served as an update:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>node ota-server.js ota-image-example.bin
</code></pre>
</div>

<p>The server will run on your machine’s IPv6 localhost, <code class="highlighter-rouge">::1</code> on port <code class="highlighter-rouge">5386</code>.  This is the standard port for the CoAP protocol (<code class="highlighter-rouge">coap://[::1]</code>).  The server should listen on any other external hostname that machine has.  (In my border router, I use <code class="highlighter-rouge">coap://[bbbb::1]</code>)</p>

<p>Once the Sensortag is able to resolve the host and port of your OTA server, it will begin downloading the new <code class="highlighter-rouge">ota-image-example.bin</code>
 OTA image via CoAP blockwise transfer.  When it is done, it will 
restart, and begin blinking the other LED as the new firmware is 
executed.</p>

<div class="alert alert-danger">
  It seems running the CC2650 with a debugger such as the devpack 
attached can interfere with software reboots.  If the Sensortag seems to
 just turn off or freeze after download, disconnect it from the devpack 
and power it using external power such as a battery.
</div>

<h2 id="using-the-srf06-board">Using the srf06 Board</h2>

<p><img src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/ota-srf-board.jpg" alt="srf board with external flash chip"></p>

<p>While developing, it’s helpful to have UART access to the CC26XX 
module.  Unfortunately, the Sensortag is very badly equipped for this 
purpose.  Because the devpack is required to get convenient UART 
communication (via USB), and because the devpack interferes with SPI 
which is used by the external flash, you cannot simultaneously have UART
 output <em>and</em> have the external flash be recognized by your 
firmware.  It is more convenient to use the srf06 development board and a
 CC2650-EM module.</p>

<h3 id="add-external-flash-chip">Add External Flash Chip</h3>
<p>First, you need to attach an external flash chip to the SRF06.  I recommend the same chip that TI uses in the Sensortag, the <a href="http://www.digikey.com/product-detail/en/winbond-electronics/W25X40CLSNIG/W25X40CLSNIG-ND/3008652?cur=USD&amp;lang=en">W25X40CL</a>.</p>

<p><img src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/eagle-ext-flash.png" alt="external flash circuit"></p>

<p>For a ready-made breakout of the above, please see <a href="https://github.com/viccarre/W25X40_BREAKOUT">this excellent Eagle repository</a> by Driblet Labs EE <a href="https://github.com/viccarre">Victor Carreño</a>.  This circuit should be connected to the srf06 board according to the following GPIO map.</p>

<table>
  <thead>
    <tr>
      <th>Schematic label</th>
      <th>DIO Pin</th>
      <th>EM RF Pin</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>MISO</td>
      <td>IOID_8</td>
      <td>1.20</td>
    </tr>
    <tr>
      <td>MOSI</td>
      <td>IOID_9</td>
      <td>1.18</td>
    </tr>
    <tr>
      <td>CLK</td>
      <td>IOID_10</td>
      <td>1.16</td>
    </tr>
    <tr>
      <td>CS</td>
      <td>IOID_14</td>
      <td>1.17</td>
    </tr>
    <tr>
      <td>VCC (3.3 VDC)</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <td>GND (0.0 VDC)</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="software-modifications">Software Modifications</h3>
<p>Once you have the external flash chip physically connected to the 
SRF06 board, we need to modify the following files so that the 
bootloader knows about the new SPI configuration, and so that our OTA 
image firmware knows to compile for the <code class="highlighter-rouge">srf06/cc26xx</code> board target instead of <code class="highlighter-rouge">sensortag/cc2650</code>.</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">platform/srf06-cc26xx/srf06/Makefile.srf06</code>: Add <code class="highlighter-rouge">common</code> to the <code class="highlighter-rouge">CONTIKI_TARGET_DIRS</code> and make sure to add SPI and ext-flash drivers to <code class="highlighter-rouge">BOARD_SOURCEFILES</code>.</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code>CFLAGS +<span class="o">=</span> -DBOARD_SMARTRF06EB<span class="o">=</span>1

CONTIKI_TARGET_DIRS +<span class="o">=</span> srf06 common

BOARD_SOURCEFILES +<span class="o">=</span> board-spi.c ext-flash.c leds-arch.c srf06-sensors.c button-sensor.c board.c

<span class="c">### Signal that we can be programmed with cc2538-bsl</span>
<span class="nv">BOARD_SUPPORTS_BSL</span><span class="o">=</span>1
</code></pre>
    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">examples/cc26xx-ota-bootloader/bootloader/ext-flash/spi-pins.h</code>:  We need to make sure the bootloader is using the right SPI pins!</p>

    <div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#ifndef SPI_PINS_H_
#define SPI_PINS_H_
</span><span class="cm">/**
 *    How is the ext-flash hardware connected to your board?
 *    Enter pin definitions here.
 */</span>
<span class="cp">#include "ioc.h"
</span>
<span class="cp">#define BOARD_IOID_FLASH_CS       IOID_14
#define BOARD_FLASH_CS            (1 &lt;&lt; BOARD_IOID_FLASH_CS)
</span>
<span class="cm">/**
 *  For srf06 board:
 */</span>
<span class="cp">#define BOARD_IOID_SPI_CLK_FLASH  IOID_10
#define BOARD_IOID_SPI_MOSI       IOID_9
#define BOARD_IOID_SPI_MISO       IOID_8
</span>
<span class="cm">/**
 *  For Sensortag:
 */</span>
<span class="cm">/** COMMENT THESE DEFINITIONS
#define BOARD_IOID_SPI_CLK_FLASH  IOID_17
#define BOARD_IOID_SPI_MOSI       IOID_19
#define BOARD_IOID_SPI_MISO       IOID_18
*/</span>
<span class="cp">#endif
</span>
</code></pre>
    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">examples/cc26xx-ota-bootloader/ota-image-example/project-conf.h</code>:  We need to make sure our OTA image is using the right SPI pins!  Uncomment the srf06-specific definitions found in the file.</p>

    <div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#undef UIP_CONF_BUFFER_SIZE
#define UIP_CONF_BUFFER_SIZE           1280
</span>
<span class="cp">#undef REST_MAX_CHUNK_SIZE
#define REST_MAX_CHUNK_SIZE            256
</span>

<span class="cm">/**
*  For srf06 board we must specify SPI connections by uncommenting these
*/</span>
<span class="cp">#define BOARD_IOID_FLASH_CS       IOID_14
#define BOARD_FLASH_CS            (1 &lt;&lt; BOARD_IOID_FLASH_CS)
#define BOARD_IOID_SPI_CLK_FLASH  IOID_10
#define BOARD_IOID_SPI_MOSI       IOID_9
#define BOARD_IOID_SPI_MISO       IOID_8
</span></code></pre>
    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">examples/cc26xx-ota-bootloader/ota-image-example/Makefile</code>:  Finally, in the first few lines of the OTA image Makefile, comment out the <code class="highlighter-rouge">sensortag</code> board target, and <em>un</em>comment the line with the <code class="highlighter-rouge">srf06</code> board:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c">#BOARD=sensortag/CC2650</span>
<span class="nv">BOARD</span><span class="o">=</span>srf06/cc26xx
</code></pre>
    </div>
  </li>
</ul>

<h2 id="memory-map-architecture">Memory Map Architecture</h2>
<p>The CC2650’s internal flash can store 128Kb.  We are going to assume,
 as a reasonable upper bound for our Contiki applications, 100Kb per OTA
 image.</p>

<p>If we are assuming OTA images of 100Kb, we clearly cannot store more 
than one copy of our firmware on the internal flash at any one point in 
time.  This introduces another subproblem – what if, for any reason, the
 firmware image stored in the internal flash should be corrupted or 
unable to boot?</p>

<p>The answer is to implement external flash storage.  The CC2650 
Sensortag board, for instance, comes equipped with an external 500Kb 
EEPROM chip, <a href="https://github.com/contiki-os/contiki/blob/master/platform/srf06-cc26xx/common/ext-flash.h">accessible via SPI</a>.  We will utilize this external flash (or “ext-flash” as per the Contiki API) storage to hold two flavors of firmware:</p>

<ul>
  <li>Golden Image - This is a single backup of the device firmware, as 
it came out of the factory.  If anything should ever go completely 
wrong, we can restore our device’s internal firmware from this external 
backup copy.  This is five-star, finisher firmware.</li>
  <li>OTA Downloads - We will store firmware images downloaded from the 
OTA server in ext-flash as well.  We will only ever write one of these 
versions to the <em>internal</em> flash at any given time.  But, by 
keeping several versions on hand, we can always iteratively fall back to
 previous firmware versions in the event of corrupt downloads, bad 
firmware releases, corrupted flash R/W, etc.</li>
</ul>

<p>So, the overall idea behind the upgrade mechanism is as follows:</p>

<div class="row">
  <div class="col-md-6">
    <div class="mmap-container">
      <div class="mmap">
        <div class="bg-success">
          CCFG
          <br>
          88 bytes
        </div>
        <div>
          Blank
          <br>
          ≲ 20Kb
        </div>
        <div class="bg-danger">
          Current Firmware
          <br>
          100Kb
        </div>
        <div class="bg-success">
          Bootloader
          <br>
          8Kb
        </div>
      </div>
      <div style="text-align: center">
        <b>Internal Flash</b>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="mmap-container">
      <div class="mmap">
        <div class="bg-danger">
          OTA Image 3
          <br>
          100Kb
        </div>
        <div class="bg-danger">
          OTA Image 2
          <br>
          100Kb
        </div>
        <div class="bg-danger">
          OTA Image 1
          <br>
          100Kb
        </div>
        <div class="bg-success">
          Golden Image
          <br>
          100Kb
        </div>
        <div class="">
          Blank - Left for User Application
          <br>
          100Kb
        </div>
      </div>
      <div style="text-align: center">
        <b>External Flash</b>
      </div>
    </div>
  </div>
</div>

<ul>
  <li>Current Firmware, executed from internal flash, is responsible for downloading <em>new</em> firmware, which is then stored in ext-flash.</li>
  <li>The Bootloader (discussed below) is responsible for copying over new firmware from ext-flash into internal flash.</li>
</ul>

<div class="alert alert-info">
  Note:  In the parlance of <strike>our times</strike> TI's BLE literature, this architecture is referred to as "Off-Chip" OTA.
</div>

<h3 id="internal-flash">Internal Flash</h3>
<p>First, let’s take a look at how we’ll layout our internal flash memory.</p>

<div class="row">
  <div class="col-md-3">
    <div class="mmap-container">
      <div style="text-align: center">
        <b>Internal Flash</b>
        <br>
        Memory Map
        <br>
        128Kb Total
      </div>
      <div class="mmap">
        <div class="bg-success">
          CCFG
          <br>
          88 bytes
        </div>
        <div>
          Blank
          <br>
          ≲ 20Kb
        </div>
        <div class="bg-danger">
          Current Firmware
          <br>
          100Kb
        </div>
        <div class="bg-success">
          Bootloader
          <br>
          8Kb
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-9">
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Flash Region</th>
            <th>Purpose</th>
            <th>Starting Address</th>
            <th>Permanent?</th>
          </tr>
        </thead>
        <tbody>
          <tr class="success">
            <td>CCFG</td>
            <td>
              These 88 bytes are flashed with the bootloader, and used 
to store some information regarding hardware configuration.  It is 
important to note that the CCFG region is aligned with the end of flash;
 it inhabits the very last 88 bytes of the EEPROM.
            </td>
            <td>0x1FFA8</td>
            <td>Yes</td>
          </tr>
          <tr class="">
            <td>Blank</td>
            <td>
              We leave this region empty simply because an even 100Kb 
for the firmware binaries worked out nicely.  This space could be used 
to store even larger firmware images if desired.
            </td>
            <td>0x1B000</td>
            <td>No</td>
          </tr>
          <tr class="danger">
            <td>Current Firmware</td>
            <td>
              This is the firmware that the CC26XX executes.  To change 
the firmware version of a device, simply erase &amp; overwrite this 
region with firmware code from somewhere else.
            </td>
            <td>0x2000</td>
            <td>No</td>
          </tr>
          <tr class="success">
            <td>Bootloader</td>
            <td>
              The bootloader is the first code to be executed when the 
CC26XX powers on.  It verifies whether or not the Current Firmware is 
valid, and if there is a more recent firmware image downloaded in 
external storage.  If the Current Firmware is corrupt, or if there 
exists a more recent firmware version in external storage, the 
bootloader overwrites the Current Firmware with that most recent valid 
firmware image.  If there are no valid OTA images in external storage, 
the bootloader overwrites the Current Firmware with a "Golden Image," 
which is copy of the very first firmware (e.g. from the factory), kept 
as a permanent backup in external storage.
            </td>
            <td>0x0000</td>
            <td>Yes</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<h3 id="external-flash">External Flash</h3>
<p>Now, let’s look at the external flash memory map.</p>

<div class="row">
  <div class="col-md-3">
    <div class="mmap-container">
      <div style="text-align: center">
        <b>External Flash</b>
        <br>
        Memory Map
        <br>
        500Kb Total
      </div>
      <div class="mmap">
        <div class="bg-danger">
          OTA Image 3
          <br>
          100Kb
        </div>
        <div class="bg-danger">
          OTA Image 2
          <br>
          100Kb
        </div>
        <div class="bg-danger">
          OTA Image 1
          <br>
          100Kb
        </div>
        <div class="bg-success">
          Golden Image
          <br>
          100Kb
        </div>
        <div class="">
          Blank - Left for User Application
          <br>
          100Kb
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-9">
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Flash Region</th>
            <th>Purpose</th>
            <th>Starting Address</th>
            <th>Permanent?</th>
          </tr>
        </thead>
        <tbody>
          <tr class="danger">
            <td>OTA Image 3</td>
            <td>
              A third OTA download slot.
            </td>
            <td>0x64000</td>
            <td>No</td>
          </tr>
          <tr class="danger">
            <td>OTA Image 2</td>
            <td>
              A second OTA download slot.
            </td>
            <td>0x4B000</td>
            <td>No</td>
          </tr>
          <tr class="danger">
            <td>OTA Image 1</td>
            <td>
              First OTA download slot.
            </td>
            <td>0x32000</td>
            <td>No</td>
          </tr>
          <tr class="success">
            <td>Golden Image</td>
            <td>
              A backup of the initial device firmware, issued at the 
factory.  This is never modified or overwritten, and is only used to 
restore the device firmware if all 3 available OTA images are invalid, 
and the internal flash's Current Firmware is also corrupt.
            </td>
            <td>0x19000</td>
            <td>Yes</td>
          </tr>
          <tr class="">
            <td>Blank</td>
            <td>
              We leave the first 100Kb blank in case the user's 
application also needs ext-flash.  We could of course also easily use 
this space to increase the number of available OTA slots.
            </td>
            <td>0x0000</td>
            <td>No</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<h2 id="bootloader">Bootloader</h2>
<p>The bootloader takes up the first 2 pages (8Kb) of internal flash.  
It should never be overwritten, as the OTA images will rely on the 
bootloader to actually copy firmware between external and internal 
flash.  The bootloader can be built using the following make target:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>examples/cc26xx-ota-bootloader/bootloader
make bootloader.hex
</code></pre>
</div>

<h3 id="behaviour--operation">Behaviour &amp; Operation</h3>
<p>On boot, the bootloader will first check the internal flash for the 
current firmware.  It will next recompute the CRC16 shadow over this 
firmware.  If the CRC shadow matches the CRC value stored in the 
metadata (computed server-side), then the firmware is deemed valid.  
Next, the bootloader checks the external flash in a similar fashion for 
any OTA images with a version number higher than the current firmware.  
If the bootloader finds a newer OTA image, or alternatively if the 
current firmware is determined to be corrupt from the CRC check, the 
bootloader will overwrite the internal flash with the newest valid OTA 
image.</p>

<p>In a worst case scenario, where there are no newer OTA images in 
external flash, and the internal firmware is also corrupt, the 
bootloader will overwrite the internal flash with the “Golden Image,” 
which is the firmware located in OTA slot 0.</p>

<p>The bootloader Makefile accepts two optional compiler flags which can
 be used for intentionally overwriting the Golden Image (OTA slot 0) or 
the OTA image downloads (OTA slots 1-3).</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">cd </span>examples/cc26xx-ota-bootloader/bootloader
make bootloader.hex <span class="nv">BURN_GOLDEN_IMAGE</span><span class="o">=</span>1 <span class="nv">CLEAR_OTA_SLOTS</span><span class="o">=</span>1
</code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>Compiler Flag</th>
      <th>Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">BURN_GOLDEN_IMAGE=1</code></td>
      <td>The bootloader will copy the current firmware from internal 
flash and store it in OTA slot 0 before running any other code.  To 
flash firmware as the Golden Image, simply merge it with a bootloader 
thus configured.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CLEAR_OTA_SLOTS=1</code></td>
      <td>Use this flag if you want the bootloader to erase all OTA 
slots in external flash before running any other code.  This will not 
erase the Golden Image.</td>
    </tr>
  </tbody>
</table>

<div class="alert alert-danger">
  A device left with a bootloader in one of these override modes will 
not work as a proper OTA system, as both flags will overwrite things 
required for the OTA system to function on every power cycle.  If your 
device seems to be ignoring OTA downloads or failing to recover from 
corrupted downloads, ensure you are using a bootloader compiled without 
any flags set!
</div>

<h3 id="golden-image">Golden Image</h3>
<p>The concept of the Golden Image is like that of the OTA Images – it 
is device firmware stored in external flash.  However, unlike OTA 
images, it will never be overwritten by OTA downloads, and the Golden 
Image must be manually burned into flash.</p>

<p>To burn a given OTA image into the Golden Image slot, just compile 
your firmware as if it were a typical OTA image.  However, when you 
compile the <em>bootloader</em>, use the <code class="highlighter-rouge">BURN_GOLDEN_IMAGE=1</code> compiler flag:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>make bootloader.hex <span class="nv">BURN_GOLDEN_IMAGE</span><span class="o">=</span>1
</code></pre>
</div>

<p>You can then merge the bootloader with your OTA image and flash it as usual.  The <code class="highlighter-rouge">BURN_GOLDEN_IMAGE</code>
 flag has a very special effect on the bootloader.  Now, when the device
 first boots up, the bootloader will copy the current firmware (the OTA 
image you compiled) from internal flash, into the Golden Image slot of 
external flash.  This will occur <em>everytime</em> the device reboots, 
however, so it’s important to reflash the bootloader with a regular 
version (compiled without the flag), or else the Golden Image can no 
longer be assumed to be a fixed backup.</p>

<h3 id="clear-ota-download-slots">Clear OTA Download Slots</h3>
<p>If you wish to clear all the OTA download slots (1-3) in external 
flash before executing your firmware, you can compile the bootloader 
using the <code class="highlighter-rouge">CLEAR_OTA_SLOTS=1</code> flag:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>make bootloader.hex CLEAR_OTA_SLOTS=1
</code></pre>
</div>

<h2 id="anatomy-of-an-ota-image">Anatomy of an OTA Image</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>metadata + firmware = OTA image
</code></pre>
</div>

<p>“OTA image” is just the binary union of a 256-byte header containing a <code class="highlighter-rouge">OTAMetadata_t</code> struct, followed by the Contiki firmware that you want to be delivered as the update.</p>

<div class="row">
  <div class="col-md-4 col-md-offset-4">
    <div class="mmap-container">
      <div style="text-align: center">
        <b>Typical OTA Image</b>
      </div>
      <div class="mmap">
        <div class="bg-danger">
          Firmware Binary Code
          <br>
          Up to 99.75Kb
        </div>
        <div class="">
          Blank
          <br>
          240 bytes
        </div>
        <div class="bg-danger">
          Metadata
          <br>
          16 bytes
        </div>
      </div>
    </div>
  </div>
</div>

<p>The purpose of the metadata is to keep track of firmware versions and
 image health.  It takes the form of a C struct comprising 16 bytes:</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">OTAMetadata</span> <span class="p">{</span>
  <span class="kt">uint16_t</span> <span class="n">crc</span><span class="p">;</span>             <span class="c1">//  Result of CRC16 done server-side
</span>  <span class="kt">uint16_t</span> <span class="n">crc_shadow</span><span class="p">;</span>      <span class="c1">//  Recalculation of CRC16 executed on download - must match CRC
</span>  <span class="kt">uint32_t</span> <span class="n">size</span><span class="p">;</span>            <span class="c1">//  Size of firmware image, in bytes
</span>  <span class="kt">uint32_t</span> <span class="n">uuid</span><span class="p">;</span>            <span class="c1">//  Integer representing unique firmware ID
</span>  <span class="kt">uint16_t</span> <span class="n">version</span><span class="p">;</span>         <span class="c1">//  Integer representing firmware version
</span><span class="p">}</span> <span class="n">OTAMetadata_t</span><span class="p">;</span>
</code></pre>
</div>

<div class="alert alert-info">
Although the total byte-count of each data-type in the <code class="highlighter-rouge">OTAMetadata_t</code>
 struct would seem to be 14 bytes, GCC will require our C structs to be 
word-aligned.  The nearest multiple-of-4 to 14 is therefore 16 bytes, 
and this is the size <code class="highlighter-rouge">OTAMetadata_t</code> will take in memory and flash.
</div>

<p>Why the blank 240 bytes?  The very first object inside Contiki 
firmware binaries is the vector table (VTOR).  The CC26xx VTOR must be 
256-byte aligned.  So, although we only need the first 16 bytes for our 
metadata, the Contiki code can’t actually start until byte 256.</p>

<h3 id="creating-metadata">Creating Metadata</h3>
<p>Metadata can be created using the <code class="highlighter-rouge">generate-metadata</code> program, provided in the <code class="highlighter-rouge">cc26xx-ota-bootloader</code>
 example folder.  You must first compile it, and then pass it your 
firmware .bin file along with some arguments for e.g. desired version 
and UUID numbers.</p>

<p><strong>Build generate-metadata</strong></p>

<p>If <code class="highlighter-rouge">generate-metadata</code> program doesn’t exist yet:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>make generate-metadata
</code></pre>
</div>

<p><code class="highlighter-rouge">generate-metadata</code> accepts three command line arguments:</p>

<ul>
  <li>The path to the Contiki firmware .bin you want to create metadata for.</li>
  <li>The version number you want to give the firmware (16 bit hex integer)</li>
  <li>A universally unique ID (32 bit hex integer)</li>
</ul>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c">#generate-metadata &lt;Contiki firmware .bin file&gt; &lt;fw version number (hex 16)&gt; &lt;fw uuid &lt;hex 32&gt;</span>
generate-metadata firmware.bin 0x00 0xdeadbeef
</code></pre>
</div>

<h3 id="merging-metadata">Merging Metadata</h3>
<p>The above process generates a <code class="highlighter-rouge">firmware-metadata.bin</code>
 file containing the 256-byte header described above.  To create an OTA 
Image, we must merge this header together with the original firmware 
.bin file.  To do this, we can simply use the <code class="highlighter-rouge">srec_cat</code> utility:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>srec_cat firmware-metadata.bin -binary firmware.bin -binary -offset 0x100 -o ota-image.bin -binary
</code></pre>
</div>

<p>The final <code class="highlighter-rouge">ota-image.bin</code> will be understood by the <code class="highlighter-rouge">bootloader</code>, and can be flashed to <code class="highlighter-rouge">0x2000</code> manually or sent over-the-air from <code class="highlighter-rouge">ota-server.js</code>.</p>

<h2 id="ota-image-server">OTA Image Server</h2>
<p>The purpose of the OTA Image Server is simply to serve the binary 
data of OTA Images to the Contiki nodes over CoAP.  We will use CoAP’s 
blockwise data transfer mechanism to do this.  Blockwise CoAP messages 
permit us to send large bodies of information, that may be many times 
larger than the largest network chunk we can comfortably deal with in 
our mesh.  In most cases, with 6LoWPAN, that limit is about 64 bytes.  
With the resources of a CC2650, we can crank that up to about 256 bytes 
per REST chunk.  Even so, our firmware is on the order of 100s of 
kilobytes, so blockwise is the way to go here.</p>

<p>This server can run on any network address that is resolvable by your nodes!  (The OTA server address can be trivially <a href="https://github.com/msolters/contiki/blob/master/examples/cc26xx-ota-bootloader/apps/ota/ota-download.h#L18">changed here</a>.)</p>

<p>It’s possible for the Contiki firmware to fail during an update, and 
only download some subset of the firmware image.  In the event this 
occurs, the download will continue trying to complete the download 
starting where it left off.  For this reason, we must communicate to the
 server what data offset we want to start downloading the firmware image
 at.  For this, we use the <code class="highlighter-rouge">payload</code> of the CoAP GET request.</p>

<p>So, in summary, the server will have the following features:</p>

<ul>
  <li>Read a local <code class="highlighter-rouge">.bin</code> file, that represents the new firmware to be delivered OTA (as a nodejs <code class="highlighter-rouge">Buffer()</code>)</li>
  <li>Create an CoAP server that listens for GET requests and reads a 32-bit flash address from the request’s <code class="highlighter-rouge">payload</code></li>
  <li>Send the requested subset of the firmware image using CoAP blocks (when the <code class="highlighter-rouge">block2</code> CoAP header option is present in requests)</li>
</ul>

<p>You can clone the below working example from my <a href="https://github.com/msolters/ota-server">ota-server</a> repo.  I use Node.JS to implement the OTA server.</p>

<p><strong>ota-server.js</strong></p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">coap</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'coap'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'url'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">coap</span><span class="p">.</span><span class="nx">createServer</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="s1">'udp6'</span> <span class="p">});</span>

<span class="c1">//  Configure the firmware to be served OTA</span>
<span class="kd">var</span> <span class="nx">firmware_binary</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span> <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">);</span>

<span class="c1">//  Here's where we process CoAP requests for chunks of the firmware_binary</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'request'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// (1) Parse URL path to see if this is an OTA request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Received CoAP request: "</span> <span class="o">+</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
  <span class="nx">request_parts</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span> <span class="nx">req</span><span class="p">.</span><span class="nx">url</span> <span class="p">);</span>
  <span class="nx">path_arguments</span> <span class="o">=</span> <span class="nx">request_parts</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">path_arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"ota"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// (2) Determine the starting address of this OTA download request</span>
    <span class="nx">data_start</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">readUInt32LE</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Requesting firmware starting from firmware address "</span> <span class="o">+</span> <span class="nx">data_start</span><span class="p">);</span>

    <span class="c1">// (3) Don't send data if the request is beyond the size of the OTA image</span>
    <span class="k">if</span> <span class="p">(</span> <span class="nx">data_start</span> <span class="o">&lt;=</span> <span class="nx">firmware_binary</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
      <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span> <span class="nx">firmware_binary</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">data_start</span><span class="p">,</span> <span class="nx">firmware_binary</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"OTA server listening on coap://[::1]:5683"</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>

<p>This server is super minimal and serves mostly as an example for how to incorporate a Contiki OTA server into your own systems.</p>

<p>This server will respond to GET requests of the form:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>coap://[bbbb::1]/ota
</code></pre>
</div>

<p>Where the <code class="highlighter-rouge">payload</code> is the flash address (32-bit, little endian integer) you want to start downloading firmware data at.  So e.g. <code class="highlighter-rouge">coap://[bbbb::1]/ota</code>, <code class="highlighter-rouge">payload=0x0</code> would start a CoAP transfer of the entire firmware.  But setting the payload equal to e.g. <code class="highlighter-rouge">0x1000</code> would start the download on the second page of the new image.</p>

<h2 id="adding-ota-to-existing-contiki-application">Adding OTA to Existing Contiki application</h2>
<p>It’s relatively easy to add OTA download as a feature into your 
pre-existing Contiki firmware, and to package your firmware as an OTA 
image to be used over the OTA Image Server.</p>

<blockquote>
  <p>Note:  First, make sure you are working inside this fork; these methods will not work in vanilla Contiki.</p>
</blockquote>

<h3 id="copy-the-ota-app-to-your-example">Copy the OTA app to your example</h3>
<p>Copy <code class="highlighter-rouge">apps/ota</code> into your 
Contiki example’s root folder.  This will provide a local apps folder 
with all the OTA code you need for downloading and performing CRUD 
operations on OTA images.</p>

<h3 id="update-your-makefile">Update Your Makefile</h3>
<p>We have to make sure Make sure you have the following lines in your project’s makefile:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PROJECTDIR?=.
APPDIRS += $(PROJECTDIR)/apps
APPS += er-coap rest-engine ota
OTA=1

CONTIKI_WITH_IPV6 = 1
</code></pre>
</div>

<p>The most important thing is to see that the <code class="highlighter-rouge">apps</code> folder you copied in the previous step can be located by <code class="highlighter-rouge">APPDIRS</code>.  That way, <code class="highlighter-rouge">APPS += ... ota</code> will be able to resolve our OTA app!</p>

<div class="alert alert-info">
  The <b>er-coap</b> app is a dependency of this OTA mechanism.  However, I had to use the modified <b>er-coap</b> app found in the <a href="https://github.com/cetic/6lbr/tree/develop/apps/er-coap">6LBR project</a>,
 as it is more robust and blockwise-compatible.  That's another 
important reason you must use this fork of Contiki; or, manually 
overwrite your <b>contiki/apps/er-coap</b> with the 6LBR version!
</div>

<h3 id="update-projectconf">Update <code class="highlighter-rouge">project.conf</code></h3>
<p>For CoAP to work correctly, we have to make some defines.  I’ve found the bare minimum is as follows in my project’s <code class="highlighter-rouge">project.conf</code>:</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*---------------------------------------------------------------------------*/</span>
<span class="cm">/* COAP                                                                      */</span>
<span class="cm">/*---------------------------------------------------------------------------*/</span>
<span class="cp">#undef UIP_CONF_BUFFER_SIZE
#define UIP_CONF_BUFFER_SIZE           1280
</span>
<span class="cm">/* Disabling TCP on CoAP nodes. */</span>
<span class="cp">#undef UIP_CONF_TCP
#define UIP_CONF_TCP                   0
</span>
<span class="cm">/* Increase rpl-border-router IP-buffer when using more than 64. */</span>
<span class="cp">#undef REST_MAX_CHUNK_SIZE
#define REST_MAX_CHUNK_SIZE            256
</span>
<span class="cm">/* Multiplies with chunk size, be aware of memory constraints. */</span>
<span class="cp">#undef COAP_MAX_OPEN_TRANSACTIONS
#define COAP_MAX_OPEN_TRANSACTIONS     2
</span>
<span class="cm">/* Filtering .well-known/core per query can be disabled to save space. */</span>
<span class="cp">#undef COAP_LINK_FORMAT_FILTERING
#define COAP_LINK_FORMAT_FILTERING     0
#undef COAP_PROXY_OPTION_PROCESSING
#define COAP_PROXY_OPTION_PROCESSING   0
</span></code></pre>
</div>

<div class="alert alert-danger">
  The <b>UIP_CONF_TCP</b> line is the reason I couldn't use my initial 
OTA app, with HTTP.  HTTP requires that TCP be enabled, but CoAP seems 
to require it be off!
</div>

<h3 id="set-contikis-ota-server-url">Set Contiki’s OTA Server URL</h3>

<p>Make sure the IP address of <code class="highlighter-rouge">ota-server.js</code> is reflected in the <code class="highlighter-rouge">#define OTA_SERVER_IP()</code> line found inside <code class="highlighter-rouge">apps/ota/ota-download.h</code> before you compile.  Default value is to look for an OTA server at <code class="highlighter-rouge">bbbb::1</code>.</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#define OTA_SERVER_IP() uip_ip6addr(&amp;ota_server_ipaddr, 0xbbbb, 0, 0, 0, 0, 0, 0, 0x1)
</span></code></pre>
</div>

<p>Remember, the CoAP port is by default <code class="highlighter-rouge">5683</code>.</p>

<h3 id="include-the-ota-download-headers">Include the OTA Download Headers</h3>
<p>Make sure your Contiki app uses the following headers:</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include "ota-download.h"
</span></code></pre>
</div>

<h3 id="start-an-ota-download-thread-to-update">Start an OTA Download Thread to Update</h3>
<p>To actually trigger a CoAP update attempt in Contiki:</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">process_start</span><span class="p">(</span><span class="n">ota_download_th_p</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
</code></pre>
</div>

<p>The logic of when to trigger this process is entirely up to you.  For
 example, you could trigger the download process in the callback of a 
COAP request which would be sent to the Contiki node when the server 
receives new firmware.</p>

<p>Just keep in mind:  when this process is complete, the device will reboot!  Once you start the <code class="highlighter-rouge">ota_download_th</code>
 thread, assume the device could reboot at any time.  Also, this version
 will continue to attempt to complete the download theoretically 
forever.  Feel free to implement an error catching or retry counting 
scheme if you like.</p>

<h3 id="compile">Compile</h3>
<p>You should be able to simply compile your app as per usual.  One 
important rule to follow when compiling firmware as an OTA image though –
 the target must be a .bin!  That’s because we still need to add the OTA
 metadata to the firmware image, and the <code class="highlighter-rouge">generate-metadata</code> tool only works with .bin files.</p>

<blockquote>
  <p>Note:  It’s important to use a .bin target because when producing 
&amp; injecting OTA metadata, we need the raw byte-by-byte firmware 
image.  An Intel-format .hex file would have to be parsed first.</p>
</blockquote>

<h3 id="add-ota-metadata">Add OTA Metadata</h3>
<p>OTA metadata consists of the following:</p>

<table>
  <tbody>
    <tr>
      <td>Metadata Property</td>
      <td>Size</td>
      <td>Description</td>
      <td>Example</td>
    </tr>
    <tr>
      <td>Version</td>
      <td><code class="highlighter-rouge">uint16_t</code></td>
      <td>This is an integer used to represent the version of the 
firmware.  This is the value used to determine how “new” a firmware 
update is.  The bootloader will always prefer OTA images with higher 
version numbers.  You should use a value of 0x0 for your initial 
factory-given firmware.</td>
      <td>0x0, 0x1, … 0xffff</td>
    </tr>
    <tr>
      <td>UUID</td>
      <td><code class="highlighter-rouge">uint32_t</code></td>
      <td>This is a unique integer used as an identifier for the 
firmware release.  This is primarily of use internally, to index 
software changes or to use as a hash of e.g. the commit # the firmware 
is based off.</td>
      <td>0xdeadbeef</td>
    </tr>
  </tbody>
</table>

<p>There are two other OTA metadata properties – CRC16 value (computed 
by the provided tool), CRC16 shadow value (computed by the recipient 
device to verify the image integrity) and firmware size (in bytes).  
However, none of these require your direct input.</p>

<h4 id="creating-ota-metadata-from-the-firmware-bin">Creating OTA Metadata from the Firmware .bin</h4>
<p>I have included a C program that will allow you to easily create OTA metadata, called <code class="highlighter-rouge">generate-metadata</code>.  When running <code class="highlighter-rouge">make master-hex</code>, it’s automatically built from <code class="highlighter-rouge">generate-metadata.c</code>.  In case it’s not, you can simply run <code class="highlighter-rouge">make generate-metadata</code>.  See the section on <a href="http://marksolters.com/programming/2016/06/07/contiki-ota.html#creating-metadata">Creating Metadata</a> for more detailed information.</p>

<p><code class="highlighter-rouge">generate-metadata</code> accepts 3 arguments; the path to the firmware .bin, the version number and the UUID.</p>

<blockquote>
  <p>Note:  Both version number and UUID should be given as <strong>hex</strong> integers.  Example usage:</p>
</blockquote>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>make generate-metadata
./generate-metadata ota-image-example/ota-image-example.bin 0x0 0xdeadbeef
</code></pre>
</div>

<p>After running the program, you will get a <code class="highlighter-rouge">firmware-metadata.bin</code> file in the same directory as the <code class="highlighter-rouge">generate-metadata</code> executable.</p>

<h4 id="merging-ota-metadata-with-your-firmware-binary">Merging OTA Metadata with your Firmware Binary</h4>
<p>Now, to complete the construction of your custom OTA image, all you need to do is merge the <code class="highlighter-rouge">firmware-metadata.bin</code> with the firmware .bin.  To do that, use the <code class="highlighter-rouge">srec_cat</code> utility:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>srec_cat firmware-metadata.bin -binary ota-image-example/ota-image-example.bin -binary -offset 0x100 -o firmware-with-metadata.bin -binary
</code></pre>
</div>

<p>Obviously, you should replace <code class="highlighter-rouge">ota-image-example/ota-image-example.bin</code> with your own firmware binary.  This command will then ouput a final .bin file, <code class="highlighter-rouge">firmware-with-metadata.bin</code>.  This is a complete OTA image!  This is the type of .bin file that can be loaded using e.g. <code class="highlighter-rouge">ota-server.js</code>.  It contains appropriate metadata header and a Contiki app compiled with the <code class="highlighter-rouge">OTA=1</code> flag.</p>

<h3 id="merge-the-bootloader-and-the-ota-image">Merge the Bootloader and the OTA Image</h3>
<p>For the initial flash operation, we will need our Sensortag to have 
both a working bootloader and the initial OTA image .bin we just 
created.  To build <em>just</em> the bootloader, run</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd examples/cc26xx-ota-bootloader/bootloader
make bootloader.hex
</code></pre>
</div>

<p>This will leave a <code class="highlighter-rouge">bootloader.hex</code> in the <code class="highlighter-rouge">/bootloader</code>
 folder.  Finally, we’d like to merge the bootloader and OTA image 
binaries into one .hex file.  To do that, we can once again use the <code class="highlighter-rouge">srec_cat</code> command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>srec_cat bootloader/bootloader.hex -intel -crop 0x0 0x2000 0x1FFA8 0x20000 firmware-with-metadata.bin -binary -offset 0x2000 -crop 0x2000 0x1B000 -o firmware.hex -intel
</code></pre>
</div>

<p>While you may change the location of your <code class="highlighter-rouge">bootloader.hex</code> or <code class="highlighter-rouge">firmware-with-metadata.bin</code>, it is important to keep all numeric arguments as they are!  The final file produced by this operation is <code class="highlighter-rouge">firmware.hex</code>.  This will represent a working bootloader, as well as your own firmware compiled as an OTA image with OTA metadata!</p>

          <!-- Comments -->
          <div class="comments">
    <div id="disqus_thread"></div>
    <script>
        /**
         * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
        /*
         var disqus_config = function () {
         this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
         this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
         };
         */
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//marksolters.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

        </div>

        <div class="col-md-3 hidden-sm hidden-xs">
          <h3>Post Directory</h3>
<nav class="affix" id="post-directory-spy" data-offset-top="515" data-offset-bottom="200" data-spy="affix">
  <ul class="nav nav-pills nav-stacked"><li class=""><a href="#implementing-ota-in-contiki">Implementing OTA in Contiki</a></li><li class=""><a href="#quick-start">Quick Start</a><ul class="nav"><li class=""><a href="#acquire-source-code">Acquire Source Code</a></li><li class=""><a href="#build-the-contiki-example">Build the Contiki Example</a></li><li class=""><a href="#start-an-ota-image-server">Start an OTA Image Server</a></li></ul></li><li class=""><a href="#using-the-srf06-board">Using the srf06 Board</a><ul class="nav"><li class=""><a href="#add-external-flash-chip">Add External Flash Chip</a></li><li class=""><a href="#software-modifications">Software Modifications</a></li></ul></li><li class="active"><a href="#memory-map-architecture">Memory Map Architecture</a><ul class="nav"><li><a href="#internal-flash">Internal Flash</a></li><li><a href="#external-flash">External Flash</a></li></ul></li><li><a href="#bootloader">Bootloader</a><ul class="nav"><li><a href="#behaviour--operation">Behaviour &amp; Operation</a></li><li><a href="#golden-image">Golden Image</a></li><li><a href="#clear-ota-download-slots">Clear OTA Download Slots</a></li></ul></li><li><a href="#anatomy-of-an-ota-image">Anatomy of an OTA Image</a><ul class="nav"><li><a href="#creating-metadata">Creating Metadata</a></li><li><a href="#merging-metadata">Merging Metadata</a></li></ul></li><li><a href="#ota-image-server">OTA Image Server</a></li><li><a href="#adding-ota-to-existing-contiki-application">Adding OTA to Existing Contiki application</a><ul class="nav"><li><a href="#copy-the-ota-app-to-your-example">Copy the OTA app to your example</a></li><li><a href="#update-your-makefile">Update Your Makefile</a></li><li><a href="#update-projectconf">Update project.conf</a></li><li><a href="#set-contikis-ota-server-url">Set Contiki’s OTA Server URL</a></li><li><a href="#include-the-ota-download-headers">Include the OTA Download Headers</a></li><li><a href="#start-an-ota-download-thread-to-update">Start an OTA Download Thread to Update</a></li><li><a href="#compile">Compile</a></li><li><a href="#add-ota-metadata">Add OTA Metadata</a></li><li><a href="#merge-the-bootloader-and-the-ota-image">Merge the Bootloader and the OTA Image</a></li></ul></li></ul>
</nav>

<script type="text/javascript">

    $(document).ready(function(){
        $( "article h2" ).each(function( index ) {
          var node_html = "<li><a href=\"#" + this.id + "\">" + this.textContent + "</a>";

          var children = $(this).nextUntil("h2", "h3")
          if ( children.length ) {
            node_html += "<ul class=\"nav\">";
            children.each(function(index) {
              node_html += "<li><a href=\"#" + this.id + "\">" + this.textContent + "</a></li>";
            });
            node_html += "</ul>";
          }

          node_html += "</li>";

          $("nav#post-directory-spy > ul").append( node_html );
        });

        $('nav li a').click(function(event) {
          event.preventDefault();
          $($(this).attr('href'))[0].scrollIntoView();
          scrollBy(0, -0);
        });

    });

</script>

        </div>

      
    </div>

</article>

        </div>

    <footer class="container">

    <div class="site-footer">

        <div class="copyright pull-left">
            <!-- 请不要更改这一行 方便其他人知道模板的来源 谢谢 -->
            <!-- Please keep this line to let others know where this theme comes from. Thank you :D -->
            Power by <a href="https://github.com/DONGChuan/Yummy-Jekyll">Yummy Jekyll</a>
        </div>

        <a href="https://github.com/msolters" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <div class="pull-right">
            <a href="javascript:window.scrollTo(0,0)">TOP</a>
        </div>

    </div>

    <!-- Third-Party JS -->
    <script type="text/javascript" src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/geopattern.js"></script>

    <!-- My JS -->
    <script type="text/javascript" src="OTA%20for%20Contiki%20%28CC2650%20SoC%29_files/script.js"></script>

    

    <!-- Google Analytics -->
    <div style="display:none">
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-78834529-1', 'auto');
          ga('send', 'pageview');
        </script>
    </div>

</footer>


    


</body></html>